{"ast":null,"code":"var _jsxFileName = \"/Users/chenguanyu/Desktop/yuniver_CRUD/client/src/pages/FlowChartEditor.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport axios from 'axios';\nimport { useParams } from 'react-router-dom';\n\n// 預設尺寸與 Phase 尺寸（可依需求調整）\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst DEFAULT_WIDTH = 140;\nconst DEFAULT_HEIGHT = 80;\nconst PHASE_PADDING = 20; // Phase 自動調整時的內邊距\n\n// 根據節點 type，取得初始尺寸（若已有 width/height 則用已有的）\nconst getInitialDimensions = node => {\n  if (node.width && node.height) return {\n    width: node.width,\n    height: node.height\n  };\n  if (node.type === 'phase') {\n    return {\n      width: 300,\n      height: 200\n    };\n  }\n  return {\n    width: DEFAULT_WIDTH,\n    height: DEFAULT_HEIGHT\n  };\n};\nconst CustomFlowChartEditor = () => {\n  _s();\n  const {\n    id: projectId\n  } = useParams();\n  const token = localStorage.getItem('token');\n  const API_URL = process.env.REACT_APP_API_URL || 'http://localhost:5001/api';\n  const containerRef = useRef(null);\n\n  // 節點資料，每個節點包含 id, type, label, description, extras, link, children, position, width, height\n  const [nodes, setNodes] = useState([]);\n  // 被選中節點 ID，用於編輯與顯示調整手柄\n  const [selectedNodeId, setSelectedNodeId] = useState(null);\n  // 拖曳狀態：拖曳的節點 ID與拖曳時的滑鼠偏移量\n  const [draggingNodeId, setDraggingNodeId] = useState(null);\n  const [dragOffset, setDragOffset] = useState({\n    x: 0,\n    y: 0\n  });\n  // 調整大小狀態\n  const [resizingNodeId, setResizingNodeId] = useState(null);\n  const [resizeStart, setResizeStart] = useState({\n    x: 0,\n    y: 0\n  });\n  const [initialSize, setInitialSize] = useState({\n    width: 0,\n    height: 0\n  });\n\n  // 讀取後端流程圖資料\n  useEffect(() => {\n    const fetchFlowChart = async () => {\n      try {\n        const res = await axios.get(`${API_URL}/projects/${projectId}/flowchart`, {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        // 若資料為空則預設為空陣列\n        const data = res.data || [];\n        // 確保每個節點有 width 與 height\n        const processed = data.map(node => {\n          const dims = getInitialDimensions(node);\n          return {\n            ...node,\n            width: dims.width,\n            height: dims.height\n          };\n        });\n        setNodes(processed);\n      } catch (error) {\n        console.error(\"Failed to load flowchart:\", error);\n      }\n    };\n    fetchFlowChart();\n  }, [projectId, API_URL, token]);\n\n  // 拖曳：開始拖曳\n  const handleMouseDown = (e, nodeId) => {\n    e.stopPropagation();\n    const nodeElem = e.currentTarget;\n    const rect = nodeElem.getBoundingClientRect();\n    setDraggingNodeId(nodeId);\n    setDragOffset({\n      x: e.clientX - rect.left,\n      y: e.clientY - rect.top\n    });\n  };\n\n  // 拖曳：移動\n  const handleMouseMove = e => {\n    if (draggingNodeId) {\n      const containerRect = containerRef.current.getBoundingClientRect();\n      const newX = e.clientX - containerRect.left - dragOffset.x;\n      const newY = e.clientY - containerRect.top - dragOffset.y;\n      setNodes(prevNodes => prevNodes.map(n => {\n        if (n.id === draggingNodeId) {\n          return {\n            ...n,\n            position: {\n              x: newX,\n              y: newY\n            }\n          };\n        }\n        // 若該節點是 Phase，拖動 Phase 同時拖動其子節點\n        if (n.children && n.children.includes(draggingNodeId)) {\n          // 此處可以視需求實作反向拖動，即當 Phase 被拖動，其內部所有子節點一起移動\n          // 如果拖動的是 Phase 本身，下方的邏輯處理 Phase 自動更新其大小（稍後說明）\n        }\n        return n;\n      }));\n    }\n    // 若正在調整大小，更新 selected 節點尺寸\n    if (resizingNodeId) {\n      const dx = e.clientX - resizeStart.x;\n      const dy = e.clientY - resizeStart.y;\n      setNodes(prevNodes => prevNodes.map(n => {\n        if (n.id === resizingNodeId) {\n          return {\n            ...n,\n            width: Math.max(50, initialSize.width + dx),\n            height: Math.max(30, initialSize.height + dy)\n          };\n        }\n        return n;\n      }));\n    }\n  };\n\n  // 拖曳/調整大小結束\n  const handleMouseUp = () => {\n    setDraggingNodeId(null);\n    setResizingNodeId(null);\n    // 若拖曳的是 Phase，根據內部子節點位置自動更新 Phase 尺寸\n    recalcPhaseSizes();\n  };\n\n  // 選取節點進行編輯\n  const handleSelectNode = (e, nodeId) => {\n    e.stopPropagation();\n    setSelectedNodeId(nodeId);\n  };\n\n  // 刪除節點，同時從所有 Phase 的 children 移除\n  const handleDeleteNode = nodeId => {\n    setNodes(prevNodes => prevNodes.filter(n => n.id !== nodeId).map(n => n.children ? {\n      ...n,\n      children: n.children.filter(child => child !== nodeId)\n    } : n));\n    if (selectedNodeId === nodeId) setSelectedNodeId(null);\n  };\n\n  // 開始調整大小：按下右下角手柄\n  const handleResizeMouseDown = (e, nodeId) => {\n    e.stopPropagation();\n    setResizingNodeId(nodeId);\n    setResizeStart({\n      x: e.clientX,\n      y: e.clientY\n    });\n    const node = nodes.find(n => n.id === nodeId);\n    if (node) setInitialSize({\n      width: node.width,\n      height: node.height\n    });\n  };\n\n  // 當側邊編輯更新節點屬性（直接屬性如 type、label、description、link）\n  const handleEditChange = e => {\n    if (!selectedNodeId) return;\n    const {\n      name,\n      value\n    } = e.target;\n    setNodes(prevNodes => prevNodes.map(n => n.id === selectedNodeId ? {\n      ...n,\n      [name]: value\n    } : n));\n  };\n\n  // 特別處理 children（以逗號分隔字串轉陣列）\n  const handleChildrenChange = e => {\n    if (!selectedNodeId) return;\n    const children = e.target.value.split(\",\").map(s => s.trim()).filter(s => s);\n    setNodes(prevNodes => prevNodes.map(n => n.id === selectedNodeId ? {\n      ...n,\n      children\n    } : n));\n  };\n\n  // 新增節點\n  const handleAddNode = () => {\n    const newNode = {\n      id: `${Date.now()}`,\n      type: \"task\",\n      // 預設 type 為 task\n      label: \"New Node\",\n      description: \"\",\n      extras: [],\n      link: \"\",\n      children: [],\n      position: {\n        x: 50,\n        y: 50\n      },\n      ...getInitialDimensions({\n        type: \"task\"\n      })\n    };\n    setNodes(prev => [...prev, newNode]);\n  };\n\n  // 儲存流程圖 JSON 到後端\n  const handleSave = async () => {\n    try {\n      await axios.put(`${API_URL}/projects/${projectId}/flowchart`, {\n        flowChart: nodes\n      }, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      alert(\"Flowchart saved successfully!\");\n    } catch (error) {\n      console.error(\"Failed to save flowchart:\", error);\n      alert(\"Save failed.\");\n    }\n  };\n\n  // 自動調整 Phase 節點尺寸：根據其 children 節點的位置與尺寸，計算最小包住的邊界，並加上內邊距\n  const recalcPhaseSizes = () => {\n    setNodes(prevNodes => prevNodes.map(n => {\n      if (n.type === 'phase' && n.children && n.children.length > 0) {\n        // 找出所有屬於這個 phase 的子節點\n        const childNodes = prevNodes.filter(child => n.children.includes(child.id));\n        if (childNodes.length > 0) {\n          const xs = childNodes.map(c => c.position.x);\n          const ys = childNodes.map(c => c.position.y);\n          const widths = childNodes.map(c => c.width || DEFAULT_WIDTH);\n          const heights = childNodes.map(c => c.height || DEFAULT_HEIGHT);\n          const minX = Math.min(...xs);\n          const minY = Math.min(...ys);\n          const maxX = Math.max(...xs.map((x, i) => x + widths[i]));\n          const maxY = Math.max(...ys.map((y, i) => y + heights[i]));\n          // Phase 的新位置可以維持原位置不變，僅調整寬高為包住所有子節點外加內邊距\n          return {\n            ...n,\n            width: maxX - minX + PHASE_PADDING * 2,\n            height: maxY - minY + PHASE_PADDING * 2,\n            // Optionally，可調整 phase 的 position為子節點最小位置減內邊距\n            position: {\n              x: minX - PHASE_PADDING,\n              y: minY - PHASE_PADDING\n            }\n          };\n        }\n      }\n      return n;\n    }));\n  };\n\n  // 渲染連線：根據每個節點的 children 欄位，從父節點中心連到子節點中心\n  const renderConnections = () => {\n    const lines = [];\n    nodes.forEach(parent => {\n      if (parent.children && Array.isArray(parent.children)) {\n        parent.children.forEach(childId => {\n          const child = nodes.find(n => n.id === childId);\n          if (child) {\n            const parentDims = {\n              width: parent.width || DEFAULT_WIDTH,\n              height: parent.height || DEFAULT_HEIGHT\n            };\n            const childDims = {\n              width: child.width || DEFAULT_WIDTH,\n              height: child.height || DEFAULT_HEIGHT\n            };\n            const startX = parent.position.x + parentDims.width / 2;\n            const startY = parent.position.y + parentDims.height / 2;\n            const endX = child.position.x + childDims.width / 2;\n            const endY = child.position.y + childDims.height / 2;\n            lines.push(/*#__PURE__*/_jsxDEV(\"line\", {\n              x1: startX,\n              y1: startY,\n              x2: endX,\n              y2: endY,\n              stroke: \"black\",\n              strokeWidth: \"2\"\n            }, `line-${parent.id}-${child.id}`, false, {\n              fileName: _jsxFileName,\n              lineNumber: 233,\n              columnNumber: 15\n            }, this));\n          }\n        });\n      }\n    });\n    return lines;\n  };\n  const selectedNode = nodes.find(n => n.id === selectedNodeId);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Custom Flow Chart Editor\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginBottom: \"10px\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleAddNode,\n        children: \"Add Node\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleSave,\n        style: {\n          marginLeft: \"10px\"\n        },\n        children: \"Save Flow Chart\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: containerRef,\n      style: {\n        position: \"relative\",\n        width: \"100%\",\n        height: \"600px\",\n        border: \"1px solid #ccc\"\n      },\n      onMouseMove: handleMouseMove,\n      onMouseUp: handleMouseUp,\n      children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n        style: {\n          position: \"absolute\",\n          top: 0,\n          left: 0,\n          width: \"100%\",\n          height: \"100%\"\n        },\n        children: renderConnections()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 9\n      }, this), nodes.map(node => {\n        const dims = {\n          width: node.width || DEFAULT_WIDTH,\n          height: node.height || DEFAULT_HEIGHT\n        };\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            position: \"absolute\",\n            left: node.position.x,\n            top: node.position.y,\n            width: dims.width,\n            height: dims.height,\n            boxSizing: \"border-box\",\n            border: selectedNode && selectedNode.id === node.id ? \"2px solid blue\" : \"1px solid #666\",\n            backgroundColor: \"#fff\",\n            cursor: \"move\"\n          },\n          onMouseDown: e => handleMouseDown(e, node.id),\n          onClick: e => handleSelectNode(e, node.id),\n          children: [renderNodeContent(node), /*#__PURE__*/_jsxDEV(\"button\", {\n            style: {\n              position: \"absolute\",\n              top: 0,\n              right: 0,\n              backgroundColor: \"red\",\n              color: \"#fff\",\n              border: \"none\",\n              cursor: \"pointer\",\n              fontSize: \"10px\",\n              padding: \"2px\"\n            },\n            onClick: e => {\n              e.stopPropagation();\n              handleDeleteNode(node.id);\n            },\n            children: \"X\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 289,\n            columnNumber: 15\n          }, this), selectedNode && selectedNode.id === node.id && /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              position: \"absolute\",\n              right: 0,\n              bottom: 0,\n              width: \"12px\",\n              height: \"12px\",\n              backgroundColor: \"blue\",\n              cursor: \"nwse-resize\"\n            },\n            onMouseDown: e => handleResizeMouseDown(e, node.id)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 307,\n            columnNumber: 17\n          }, this)]\n        }, node.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 13\n        }, this);\n      })]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 7\n    }, this), selectedNode && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: \"20px\",\n        border: \"1px solid #ccc\",\n        padding: \"10px\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Edit Node Properties\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 327,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Type:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 329,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          name: \"type\",\n          value: selectedNode.type,\n          onChange: handleEditChange,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"phase\",\n            children: \"phase\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 331,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"task\",\n            children: \"task\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 332,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"subFlow\",\n            children: \"subFlow\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 333,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"iterative\",\n            children: \"iterative\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 334,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"note\",\n            children: \"note\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 335,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"extra\",\n            children: \"extra\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 336,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 330,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 328,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Label:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 340,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"label\",\n          value: selectedNode.label,\n          onChange: handleEditChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 341,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 339,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Description:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 344,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          name: \"description\",\n          value: selectedNode.description,\n          onChange: handleEditChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 345,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 343,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Link:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 348,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"link\",\n          value: selectedNode.link,\n          onChange: handleEditChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 349,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 347,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Children (comma-separated IDs):\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 352,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          value: (selectedNode.children || []).join(\",\"),\n          onChange: handleChildrenChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 353,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 351,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Extras (comma-separated):\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 359,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"extras\",\n          value: (selectedNode.extras || []).join(\",\"),\n          onChange: e => {\n            const arr = e.target.value.split(\",\").map(s => s.trim()).filter(s => s);\n            handleEditChange({\n              target: {\n                name: \"extras\",\n                value: arr\n              }\n            });\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 360,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 358,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 326,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 253,\n    columnNumber: 5\n  }, this);\n};\n_s(CustomFlowChartEditor, \"IuFZcyexwonCQc45dMRBHwG2szo=\", false, function () {\n  return [useParams];\n});\n_c = CustomFlowChartEditor;\nexport default CustomFlowChartEditor;\nvar _c;\n$RefreshReg$(_c, \"CustomFlowChartEditor\");","map":{"version":3,"names":["React","useState","useEffect","useRef","axios","useParams","jsxDEV","_jsxDEV","DEFAULT_WIDTH","DEFAULT_HEIGHT","PHASE_PADDING","getInitialDimensions","node","width","height","type","CustomFlowChartEditor","_s","id","projectId","token","localStorage","getItem","API_URL","process","env","REACT_APP_API_URL","containerRef","nodes","setNodes","selectedNodeId","setSelectedNodeId","draggingNodeId","setDraggingNodeId","dragOffset","setDragOffset","x","y","resizingNodeId","setResizingNodeId","resizeStart","setResizeStart","initialSize","setInitialSize","fetchFlowChart","res","get","headers","Authorization","data","processed","map","dims","error","console","handleMouseDown","e","nodeId","stopPropagation","nodeElem","currentTarget","rect","getBoundingClientRect","clientX","left","clientY","top","handleMouseMove","containerRect","current","newX","newY","prevNodes","n","position","children","includes","dx","dy","Math","max","handleMouseUp","recalcPhaseSizes","handleSelectNode","handleDeleteNode","filter","child","handleResizeMouseDown","find","handleEditChange","name","value","target","handleChildrenChange","split","s","trim","handleAddNode","newNode","Date","now","label","description","extras","link","prev","handleSave","put","flowChart","alert","length","childNodes","xs","c","ys","widths","heights","minX","min","minY","maxX","i","maxY","renderConnections","lines","forEach","parent","Array","isArray","childId","parentDims","childDims","startX","startY","endX","endY","push","x1","y1","x2","y2","stroke","strokeWidth","fileName","_jsxFileName","lineNumber","columnNumber","selectedNode","style","marginBottom","onClick","marginLeft","ref","border","onMouseMove","onMouseUp","boxSizing","backgroundColor","cursor","onMouseDown","renderNodeContent","right","color","fontSize","padding","bottom","marginTop","onChange","join","arr","_c","$RefreshReg$"],"sources":["/Users/chenguanyu/Desktop/yuniver_CRUD/client/src/pages/FlowChartEditor.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport axios from 'axios';\nimport { useParams } from 'react-router-dom';\n\n// 預設尺寸與 Phase 尺寸（可依需求調整）\nconst DEFAULT_WIDTH = 140;\nconst DEFAULT_HEIGHT = 80;\nconst PHASE_PADDING = 20; // Phase 自動調整時的內邊距\n\n// 根據節點 type，取得初始尺寸（若已有 width/height 則用已有的）\nconst getInitialDimensions = (node) => {\n  if (node.width && node.height) return { width: node.width, height: node.height };\n  if (node.type === 'phase') {\n    return { width: 300, height: 200 };\n  }\n  return { width: DEFAULT_WIDTH, height: DEFAULT_HEIGHT };\n};\n\nconst CustomFlowChartEditor = () => {\n  const { id: projectId } = useParams();\n  const token = localStorage.getItem('token');\n  const API_URL = process.env.REACT_APP_API_URL || 'http://localhost:5001/api';\n  const containerRef = useRef(null);\n\n  // 節點資料，每個節點包含 id, type, label, description, extras, link, children, position, width, height\n  const [nodes, setNodes] = useState([]);\n  // 被選中節點 ID，用於編輯與顯示調整手柄\n  const [selectedNodeId, setSelectedNodeId] = useState(null);\n  // 拖曳狀態：拖曳的節點 ID與拖曳時的滑鼠偏移量\n  const [draggingNodeId, setDraggingNodeId] = useState(null);\n  const [dragOffset, setDragOffset] = useState({ x: 0, y: 0 });\n  // 調整大小狀態\n  const [resizingNodeId, setResizingNodeId] = useState(null);\n  const [resizeStart, setResizeStart] = useState({ x: 0, y: 0 });\n  const [initialSize, setInitialSize] = useState({ width: 0, height: 0 });\n\n  // 讀取後端流程圖資料\n  useEffect(() => {\n    const fetchFlowChart = async () => {\n      try {\n        const res = await axios.get(`${API_URL}/projects/${projectId}/flowchart`, {\n          headers: { Authorization: `Bearer ${token}` },\n        });\n        // 若資料為空則預設為空陣列\n        const data = res.data || [];\n        // 確保每個節點有 width 與 height\n        const processed = data.map(node => {\n          const dims = getInitialDimensions(node);\n          return { ...node, width: dims.width, height: dims.height };\n        });\n        setNodes(processed);\n      } catch (error) {\n        console.error(\"Failed to load flowchart:\", error);\n      }\n    };\n    fetchFlowChart();\n  }, [projectId, API_URL, token]);\n\n  // 拖曳：開始拖曳\n  const handleMouseDown = (e, nodeId) => {\n    e.stopPropagation();\n    const nodeElem = e.currentTarget;\n    const rect = nodeElem.getBoundingClientRect();\n    setDraggingNodeId(nodeId);\n    setDragOffset({ x: e.clientX - rect.left, y: e.clientY - rect.top });\n  };\n\n  // 拖曳：移動\n  const handleMouseMove = (e) => {\n    if (draggingNodeId) {\n      const containerRect = containerRef.current.getBoundingClientRect();\n      const newX = e.clientX - containerRect.left - dragOffset.x;\n      const newY = e.clientY - containerRect.top - dragOffset.y;\n      setNodes(prevNodes =>\n        prevNodes.map(n => {\n          if (n.id === draggingNodeId) {\n            return { ...n, position: { x: newX, y: newY } };\n          }\n          // 若該節點是 Phase，拖動 Phase 同時拖動其子節點\n          if (n.children && n.children.includes(draggingNodeId)) {\n            // 此處可以視需求實作反向拖動，即當 Phase 被拖動，其內部所有子節點一起移動\n            // 如果拖動的是 Phase 本身，下方的邏輯處理 Phase 自動更新其大小（稍後說明）\n          }\n          return n;\n        })\n      );\n    }\n    // 若正在調整大小，更新 selected 節點尺寸\n    if (resizingNodeId) {\n      const dx = e.clientX - resizeStart.x;\n      const dy = e.clientY - resizeStart.y;\n      setNodes(prevNodes =>\n        prevNodes.map(n => {\n          if (n.id === resizingNodeId) {\n            return { ...n, width: Math.max(50, initialSize.width + dx), height: Math.max(30, initialSize.height + dy) };\n          }\n          return n;\n        })\n      );\n    }\n  };\n\n  // 拖曳/調整大小結束\n  const handleMouseUp = () => {\n    setDraggingNodeId(null);\n    setResizingNodeId(null);\n    // 若拖曳的是 Phase，根據內部子節點位置自動更新 Phase 尺寸\n    recalcPhaseSizes();\n  };\n\n  // 選取節點進行編輯\n  const handleSelectNode = (e, nodeId) => {\n    e.stopPropagation();\n    setSelectedNodeId(nodeId);\n  };\n\n  // 刪除節點，同時從所有 Phase 的 children 移除\n  const handleDeleteNode = (nodeId) => {\n    setNodes(prevNodes =>\n      prevNodes.filter(n => n.id !== nodeId)\n        .map(n => n.children ? { ...n, children: n.children.filter(child => child !== nodeId) } : n)\n    );\n    if (selectedNodeId === nodeId) setSelectedNodeId(null);\n  };\n\n  // 開始調整大小：按下右下角手柄\n  const handleResizeMouseDown = (e, nodeId) => {\n    e.stopPropagation();\n    setResizingNodeId(nodeId);\n    setResizeStart({ x: e.clientX, y: e.clientY });\n    const node = nodes.find(n => n.id === nodeId);\n    if (node) setInitialSize({ width: node.width, height: node.height });\n  };\n\n  // 當側邊編輯更新節點屬性（直接屬性如 type、label、description、link）\n  const handleEditChange = (e) => {\n    if (!selectedNodeId) return;\n    const { name, value } = e.target;\n    setNodes(prevNodes =>\n      prevNodes.map(n =>\n        n.id === selectedNodeId ? { ...n, [name]: value } : n\n      )\n    );\n  };\n\n  // 特別處理 children（以逗號分隔字串轉陣列）\n  const handleChildrenChange = (e) => {\n    if (!selectedNodeId) return;\n    const children = e.target.value.split(\",\").map(s => s.trim()).filter(s => s);\n    setNodes(prevNodes =>\n      prevNodes.map(n =>\n        n.id === selectedNodeId ? { ...n, children } : n\n      )\n    );\n  };\n\n  // 新增節點\n  const handleAddNode = () => {\n    const newNode = {\n      id: `${Date.now()}`,\n      type: \"task\", // 預設 type 為 task\n      label: \"New Node\",\n      description: \"\",\n      extras: [],\n      link: \"\",\n      children: [],\n      position: { x: 50, y: 50 },\n      ...getInitialDimensions({ type: \"task\" })\n    };\n    setNodes(prev => [...prev, newNode]);\n  };\n\n  // 儲存流程圖 JSON 到後端\n  const handleSave = async () => {\n    try {\n      await axios.put(`${API_URL}/projects/${projectId}/flowchart`,\n        { flowChart: nodes },\n        { headers: { Authorization: `Bearer ${token}` } }\n      );\n      alert(\"Flowchart saved successfully!\");\n    } catch (error) {\n      console.error(\"Failed to save flowchart:\", error);\n      alert(\"Save failed.\");\n    }\n  };\n\n  // 自動調整 Phase 節點尺寸：根據其 children 節點的位置與尺寸，計算最小包住的邊界，並加上內邊距\n  const recalcPhaseSizes = () => {\n    setNodes(prevNodes =>\n      prevNodes.map(n => {\n        if (n.type === 'phase' && n.children && n.children.length > 0) {\n          // 找出所有屬於這個 phase 的子節點\n          const childNodes = prevNodes.filter(child => n.children.includes(child.id));\n          if (childNodes.length > 0) {\n            const xs = childNodes.map(c => c.position.x);\n            const ys = childNodes.map(c => c.position.y);\n            const widths = childNodes.map(c => c.width || DEFAULT_WIDTH);\n            const heights = childNodes.map(c => c.height || DEFAULT_HEIGHT);\n            const minX = Math.min(...xs);\n            const minY = Math.min(...ys);\n            const maxX = Math.max(...xs.map((x, i) => x + widths[i]));\n            const maxY = Math.max(...ys.map((y, i) => y + heights[i]));\n            // Phase 的新位置可以維持原位置不變，僅調整寬高為包住所有子節點外加內邊距\n            return {\n              ...n,\n              width: (maxX - minX) + PHASE_PADDING * 2,\n              height: (maxY - minY) + PHASE_PADDING * 2,\n              // Optionally，可調整 phase 的 position為子節點最小位置減內邊距\n              position: { x: minX - PHASE_PADDING, y: minY - PHASE_PADDING }\n            };\n          }\n        }\n        return n;\n      })\n    );\n  };\n\n  // 渲染連線：根據每個節點的 children 欄位，從父節點中心連到子節點中心\n  const renderConnections = () => {\n    const lines = [];\n    nodes.forEach(parent => {\n      if (parent.children && Array.isArray(parent.children)) {\n        parent.children.forEach(childId => {\n          const child = nodes.find(n => n.id === childId);\n          if (child) {\n            const parentDims = { width: parent.width || DEFAULT_WIDTH, height: parent.height || DEFAULT_HEIGHT };\n            const childDims = { width: child.width || DEFAULT_WIDTH, height: child.height || DEFAULT_HEIGHT };\n            const startX = parent.position.x + parentDims.width / 2;\n            const startY = parent.position.y + parentDims.height / 2;\n            const endX = child.position.x + childDims.width / 2;\n            const endY = child.position.y + childDims.height / 2;\n            lines.push(\n              <line\n                key={`line-${parent.id}-${child.id}`}\n                x1={startX}\n                y1={startY}\n                x2={endX}\n                y2={endY}\n                stroke=\"black\"\n                strokeWidth=\"2\"\n              />\n            );\n          }\n        });\n      }\n    });\n    return lines;\n  };\n\n  const selectedNode = nodes.find(n => n.id === selectedNodeId);\n\n  return (\n    <div>\n      <h2>Custom Flow Chart Editor</h2>\n      <div style={{ marginBottom: \"10px\" }}>\n        <button onClick={handleAddNode}>Add Node</button>\n        <button onClick={handleSave} style={{ marginLeft: \"10px\" }}>Save Flow Chart</button>\n      </div>\n      <div\n        ref={containerRef}\n        style={{ position: \"relative\", width: \"100%\", height: \"600px\", border: \"1px solid #ccc\" }}\n        onMouseMove={handleMouseMove}\n        onMouseUp={handleMouseUp}\n      >\n        <svg style={{ position: \"absolute\", top: 0, left: 0, width: \"100%\", height: \"100%\" }}>\n          {renderConnections()}\n        </svg>\n        {nodes.map(node => {\n          const dims = { width: node.width || DEFAULT_WIDTH, height: node.height || DEFAULT_HEIGHT };\n          return (\n            <div\n              key={node.id}\n              style={{\n                position: \"absolute\",\n                left: node.position.x,\n                top: node.position.y,\n                width: dims.width,\n                height: dims.height,\n                boxSizing: \"border-box\",\n                border: selectedNode && selectedNode.id === node.id ? \"2px solid blue\" : \"1px solid #666\",\n                backgroundColor: \"#fff\",\n                cursor: \"move\"\n              }}\n              onMouseDown={(e) => handleMouseDown(e, node.id)}\n              onClick={(e) => handleSelectNode(e, node.id)}\n            >\n              {renderNodeContent(node)}\n              {/* 刪除按鈕 */}\n              <button\n                style={{\n                  position: \"absolute\",\n                  top: 0,\n                  right: 0,\n                  backgroundColor: \"red\",\n                  color: \"#fff\",\n                  border: \"none\",\n                  cursor: \"pointer\",\n                  fontSize: \"10px\",\n                  padding: \"2px\"\n                }}\n                onClick={(e) => { e.stopPropagation(); handleDeleteNode(node.id); }}\n              >\n                X\n              </button>\n              {/* 若此節點被選中，顯示右下角調整大小的手柄 */}\n              {selectedNode && selectedNode.id === node.id && (\n                <div\n                  style={{\n                    position: \"absolute\",\n                    right: 0,\n                    bottom: 0,\n                    width: \"12px\",\n                    height: \"12px\",\n                    backgroundColor: \"blue\",\n                    cursor: \"nwse-resize\"\n                  }}\n                  onMouseDown={(e) => handleResizeMouseDown(e, node.id)}\n                ></div>\n              )}\n            </div>\n          );\n        })}\n      </div>\n      {/* 側邊編輯表單 */}\n      {selectedNode && (\n        <div style={{ marginTop: \"20px\", border: \"1px solid #ccc\", padding: \"10px\" }}>\n          <h3>Edit Node Properties</h3>\n          <div>\n            <label>Type:</label>\n            <select name=\"type\" value={selectedNode.type} onChange={handleEditChange}>\n              <option value=\"phase\">phase</option>\n              <option value=\"task\">task</option>\n              <option value=\"subFlow\">subFlow</option>\n              <option value=\"iterative\">iterative</option>\n              <option value=\"note\">note</option>\n              <option value=\"extra\">extra</option>\n            </select>\n          </div>\n          <div>\n            <label>Label:</label>\n            <input name=\"label\" value={selectedNode.label} onChange={handleEditChange} />\n          </div>\n          <div>\n            <label>Description:</label>\n            <textarea name=\"description\" value={selectedNode.description} onChange={handleEditChange} />\n          </div>\n          <div>\n            <label>Link:</label>\n            <input name=\"link\" value={selectedNode.link} onChange={handleEditChange} />\n          </div>\n          <div>\n            <label>Children (comma-separated IDs):</label>\n            <input\n              value={(selectedNode.children || []).join(\",\")}\n              onChange={handleChildrenChange}\n            />\n          </div>\n          <div>\n            <label>Extras (comma-separated):</label>\n            <input\n              name=\"extras\"\n              value={(selectedNode.extras || []).join(\",\")}\n              onChange={(e) => {\n                const arr = e.target.value.split(\",\").map(s => s.trim()).filter(s => s);\n                handleEditChange({ target: { name: \"extras\", value: arr } });\n              }}\n            />\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default CustomFlowChartEditor;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}