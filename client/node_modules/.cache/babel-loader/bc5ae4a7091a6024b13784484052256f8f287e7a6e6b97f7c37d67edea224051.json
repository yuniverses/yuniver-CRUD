{"ast":null,"code":"var _jsxFileName = \"/Users/chenguanyu/Desktop/yuniver_CRUD/client/src/pages/TemplateLibrary.jsx\",\n  _s = $RefreshSig$();\n// src/pages/TemplateLibrary.jsx\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst TemplateLibrary = () => {\n  _s();\n  const [templates, setTemplates] = useState([]);\n  const [editingTemplateId, setEditingTemplateId] = useState(null);\n  const [editingData, setEditingData] = useState({\n    name: '',\n    description: '',\n    flowChart: []\n  });\n  const token = localStorage.getItem('token');\n  const API_URL = process.env.REACT_APP_API_URL || 'http://localhost:5001/api';\n  const navigate = useNavigate();\n  useEffect(() => {\n    fetchTemplates();\n  }, []);\n  const fetchTemplates = async () => {\n    try {\n      const res = await axios.get(`${API_URL}/templates`, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      setTemplates(res.data);\n    } catch (error) {\n      console.error('Failed to fetch templates', error);\n    }\n  };\n  const handleDownloadTemplate = template => {\n    const dataStr = \"data:text/json;charset=utf-8,\" + encodeURIComponent(JSON.stringify(template, null, 2));\n    const anchor = document.createElement('a');\n    anchor.href = dataStr;\n    anchor.download = `${template.name}.json`;\n    document.body.appendChild(anchor);\n    anchor.click();\n    anchor.remove();\n  };\n  const handleApplyTemplate = template => {\n    // 儲存模板 flowChart 到 localStorage 並導向流程圖編輯器（例如 /flowchart-editor/new）\n    localStorage.setItem('appliedTemplate', JSON.stringify(template.flowChart));\n    navigate('/flowchart-editor/new');\n  };\n  const handleEditTemplate = template => {\n    setEditingTemplateId(template._id);\n    setEditingData({\n      name: template.name,\n      description: template.description,\n      flowChart: template.flowChart\n    });\n  };\n  const handleSaveTemplate = async () => {\n    try {\n      await axios.put(`${API_URL}/templates/${editingTemplateId}`, editingData, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      setEditingTemplateId(null);\n      fetchTemplates();\n      alert(\"Template updated successfully!\");\n    } catch (error) {\n      console.error(\"Failed to update template\", error);\n      alert(\"Update failed.\");\n    }\n  };\n  const handleDeleteTemplate = async templateId => {\n    try {\n      await axios.delete(`${API_URL}/templates/${templateId}`, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      fetchTemplates();\n      alert(\"Template deleted successfully!\");\n    } catch (error) {\n      console.error(\"Failed to delete template\", error);\n      alert(\"Delete failed.\");\n    }\n  };\n\n  // 處理上傳模板 JSON 檔案\n  const handleFileChange = e => {\n    const file = e.target.files[0];\n    if (!file) return;\n    const reader = new FileReader();\n    reader.onload = event => {\n      try {\n        const json = JSON.parse(event.target.result);\n        // 呼叫 createTemplate API，預設從上傳的 JSON 檔案中取得 name, description, flowChart\n        axios.post(`${API_URL}/templates`, json, {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        }).then(() => {\n          fetchTemplates();\n          alert(\"Template imported successfully!\");\n        }).catch(err => {\n          console.error(err);\n          alert(\"Import failed\");\n        });\n      } catch (error) {\n        alert(\"Invalid JSON file\");\n      }\n    };\n    reader.readAsText(file);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Template Library\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"Import Template:\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          accept: \".json\",\n          onChange: handleFileChange,\n          style: {\n            marginLeft: \"5px\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 7\n    }, this), editingTemplateId ? /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        border: \"1px solid #ccc\",\n        padding: \"10px\",\n        marginTop: \"20px\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Edit Template\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Name:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: editingData.name,\n          onChange: e => setEditingData({\n            ...editingData,\n            name: e.target.value\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Description:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          value: editingData.description,\n          onChange: e => setEditingData({\n            ...editingData,\n            description: e.target.value\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"FlowChart JSON:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          value: JSON.stringify(editingData.flowChart, null, 2),\n          onChange: e => {\n            try {\n              const parsed = JSON.parse(e.target.value);\n              setEditingData({\n                ...editingData,\n                flowChart: parsed\n              });\n            } catch (error) {\n              // 若解析失敗，不更新\n            }\n          },\n          rows: \"10\",\n          style: {\n            width: \"100%\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleSaveTemplate,\n        children: \"Save Template\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setEditingTemplateId(null),\n        style: {\n          marginLeft: \"10px\"\n        },\n        children: \"Cancel\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      children: templates.map(template => /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          border: \"1px solid #ccc\",\n          padding: \"10px\",\n          margin: \"10px 0\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: template.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: template.description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"pre\", {\n          style: {\n            backgroundColor: \"#f8f8f8\",\n            padding: \"5px\",\n            maxHeight: \"150px\",\n            overflow: \"auto\"\n          },\n          children: JSON.stringify(template.flowChart, null, 2)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleDownloadTemplate(template),\n          children: \"Download\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleApplyTemplate(template),\n          style: {\n            marginLeft: \"10px\"\n          },\n          children: \"Apply\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleEditTemplate(template),\n          style: {\n            marginLeft: \"10px\"\n          },\n          children: \"Edit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleDeleteTemplate(template._id),\n          style: {\n            marginLeft: \"10px\"\n          },\n          children: \"Delete\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 15\n        }, this)]\n      }, template._id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 103,\n    columnNumber: 5\n  }, this);\n};\n_s(TemplateLibrary, \"vmvNgZPFjJqYFmA2eCuKx5jjTB0=\", false, function () {\n  return [useNavigate];\n});\n_c = TemplateLibrary;\nexport default TemplateLibrary;\nvar _c;\n$RefreshReg$(_c, \"TemplateLibrary\");","map":{"version":3,"names":["React","useState","useEffect","axios","useNavigate","jsxDEV","_jsxDEV","TemplateLibrary","_s","templates","setTemplates","editingTemplateId","setEditingTemplateId","editingData","setEditingData","name","description","flowChart","token","localStorage","getItem","API_URL","process","env","REACT_APP_API_URL","navigate","fetchTemplates","res","get","headers","Authorization","data","error","console","handleDownloadTemplate","template","dataStr","encodeURIComponent","JSON","stringify","anchor","document","createElement","href","download","body","appendChild","click","remove","handleApplyTemplate","setItem","handleEditTemplate","_id","handleSaveTemplate","put","alert","handleDeleteTemplate","templateId","delete","handleFileChange","e","file","target","files","reader","FileReader","onload","event","json","parse","result","post","then","catch","err","readAsText","children","fileName","_jsxFileName","lineNumber","columnNumber","type","accept","onChange","style","marginLeft","border","padding","marginTop","value","parsed","rows","width","onClick","map","margin","backgroundColor","maxHeight","overflow","_c","$RefreshReg$"],"sources":["/Users/chenguanyu/Desktop/yuniver_CRUD/client/src/pages/TemplateLibrary.jsx"],"sourcesContent":["// src/pages/TemplateLibrary.jsx\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom';\n\nconst TemplateLibrary = () => {\n  const [templates, setTemplates] = useState([]);\n  const [editingTemplateId, setEditingTemplateId] = useState(null);\n  const [editingData, setEditingData] = useState({ name: '', description: '', flowChart: [] });\n  const token = localStorage.getItem('token');\n  const API_URL = process.env.REACT_APP_API_URL || 'http://localhost:5001/api';\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    fetchTemplates();\n  }, []);\n\n  const fetchTemplates = async () => {\n    try {\n      const res = await axios.get(`${API_URL}/templates`, {\n        headers: { Authorization: `Bearer ${token}` }\n      });\n      setTemplates(res.data);\n    } catch (error) {\n      console.error('Failed to fetch templates', error);\n    }\n  };\n\n  const handleDownloadTemplate = (template) => {\n    const dataStr = \"data:text/json;charset=utf-8,\" + encodeURIComponent(JSON.stringify(template, null, 2));\n    const anchor = document.createElement('a');\n    anchor.href = dataStr;\n    anchor.download = `${template.name}.json`;\n    document.body.appendChild(anchor);\n    anchor.click();\n    anchor.remove();\n  };\n\n  const handleApplyTemplate = (template) => {\n    // 儲存模板 flowChart 到 localStorage 並導向流程圖編輯器（例如 /flowchart-editor/new）\n    localStorage.setItem('appliedTemplate', JSON.stringify(template.flowChart));\n    navigate('/flowchart-editor/new');\n  };\n\n  const handleEditTemplate = (template) => {\n    setEditingTemplateId(template._id);\n    setEditingData({ name: template.name, description: template.description, flowChart: template.flowChart });\n  };\n\n  const handleSaveTemplate = async () => {\n    try {\n      await axios.put(`${API_URL}/templates/${editingTemplateId}`, editingData, {\n        headers: { Authorization: `Bearer ${token}` }\n      });\n      setEditingTemplateId(null);\n      fetchTemplates();\n      alert(\"Template updated successfully!\");\n    } catch (error) {\n      console.error(\"Failed to update template\", error);\n      alert(\"Update failed.\");\n    }\n  };\n\n  const handleDeleteTemplate = async (templateId) => {\n    try {\n      await axios.delete(`${API_URL}/templates/${templateId}`, {\n        headers: { Authorization: `Bearer ${token}` }\n      });\n      fetchTemplates();\n      alert(\"Template deleted successfully!\");\n    } catch (error) {\n      console.error(\"Failed to delete template\", error);\n      alert(\"Delete failed.\");\n    }\n  };\n\n  // 處理上傳模板 JSON 檔案\n  const handleFileChange = (e) => {\n    const file = e.target.files[0];\n    if (!file) return;\n    const reader = new FileReader();\n    reader.onload = (event) => {\n      try {\n        const json = JSON.parse(event.target.result);\n        // 呼叫 createTemplate API，預設從上傳的 JSON 檔案中取得 name, description, flowChart\n        axios.post(`${API_URL}/templates`, json, {\n          headers: { Authorization: `Bearer ${token}` }\n        }).then(() => {\n          fetchTemplates();\n          alert(\"Template imported successfully!\");\n        }).catch(err => {\n          console.error(err);\n          alert(\"Import failed\");\n        });\n      } catch (error) {\n        alert(\"Invalid JSON file\");\n      }\n    };\n    reader.readAsText(file);\n  };\n\n  return (\n    <div>\n      <h2>Template Library</h2>\n      <div>\n        <label>\n          Import Template:\n          <input type=\"file\" accept=\".json\" onChange={handleFileChange} style={{ marginLeft: \"5px\" }} />\n        </label>\n      </div>\n      {editingTemplateId ? (\n        <div style={{ border: \"1px solid #ccc\", padding: \"10px\", marginTop: \"20px\" }}>\n          <h3>Edit Template</h3>\n          <div>\n            <label>Name:</label>\n            <input\n              type=\"text\"\n              value={editingData.name}\n              onChange={(e) => setEditingData({ ...editingData, name: e.target.value })}\n            />\n          </div>\n          <div>\n            <label>Description:</label>\n            <textarea\n              value={editingData.description}\n              onChange={(e) => setEditingData({ ...editingData, description: e.target.value })}\n            />\n          </div>\n          <div>\n            <label>FlowChart JSON:</label>\n            <textarea\n              value={JSON.stringify(editingData.flowChart, null, 2)}\n              onChange={(e) => {\n                try {\n                  const parsed = JSON.parse(e.target.value);\n                  setEditingData({ ...editingData, flowChart: parsed });\n                } catch (error) {\n                  // 若解析失敗，不更新\n                }\n              }}\n              rows=\"10\"\n              style={{ width: \"100%\" }}\n            />\n          </div>\n          <button onClick={handleSaveTemplate}>Save Template</button>\n          <button onClick={() => setEditingTemplateId(null)} style={{ marginLeft: \"10px\" }}>Cancel</button>\n        </div>\n      ) : (\n        <div>\n          {templates.map(template => (\n            <div key={template._id} style={{ border: \"1px solid #ccc\", padding: \"10px\", margin: \"10px 0\" }}>\n              <h3>{template.name}</h3>\n              <p>{template.description}</p>\n              <pre style={{ backgroundColor: \"#f8f8f8\", padding: \"5px\", maxHeight: \"150px\", overflow: \"auto\" }}>\n                {JSON.stringify(template.flowChart, null, 2)}\n              </pre>\n              <button onClick={() => handleDownloadTemplate(template)}>Download</button>\n              <button onClick={() => handleApplyTemplate(template)} style={{ marginLeft: \"10px\" }}>Apply</button>\n              <button onClick={() => handleEditTemplate(template)} style={{ marginLeft: \"10px\" }}>Edit</button>\n              <button onClick={() => handleDeleteTemplate(template._id)} style={{ marginLeft: \"10px\" }}>Delete</button>\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default TemplateLibrary;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}