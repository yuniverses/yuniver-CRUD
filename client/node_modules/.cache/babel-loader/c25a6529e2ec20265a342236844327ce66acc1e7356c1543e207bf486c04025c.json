{"ast":null,"code":"// src/api/file.js\nimport axios from 'axios';\nconst API_URL = process.env.REACT_APP_API_URL || 'http://localhost:5001/api';\nexport const getPageFiles = async (pageId, token) => {\n  const res = await axios.get(`${API_URL}/pages/files/${pageId}`, {\n    headers: {\n      Authorization: `Bearer ${token}`\n    }\n  });\n  return res.data;\n};\nexport const uploadFile = async (pageId, fileObj, token) => {\n  const formData = new FormData();\n  formData.append('file', fileObj);\n  const res = await axios.post(`${API_URL}/pages/files/${pageId}`, formData, {\n    headers: {\n      Authorization: `Bearer ${token}`,\n      'Content-Type': 'multipart/form-data'\n    }\n  });\n  return res.data;\n};\nexport const downloadFile = async (fileId, token) => {\n  const res = await axios.get(`${API_URL}/files/download/${fileId}`, {\n    headers: {\n      Authorization: `Bearer ${token}`\n    },\n    responseType: 'blob'\n  });\n  return res;\n};","map":{"version":3,"names":["axios","API_URL","process","env","REACT_APP_API_URL","getPageFiles","pageId","token","res","get","headers","Authorization","data","uploadFile","fileObj","formData","FormData","append","post","downloadFile","fileId","responseType"],"sources":["/Users/chenguanyu/Desktop/yuniver_CRUD/client/src/api/file.js"],"sourcesContent":["// src/api/file.js\nimport axios from 'axios';\nconst API_URL = process.env.REACT_APP_API_URL || 'http://localhost:5001/api';\n\nexport const getPageFiles = async (pageId, token) => {\n  const res = await axios.get(`${API_URL}/pages/files/${pageId}`, {\n    headers: { Authorization: `Bearer ${token}` },\n  });\n  return res.data;\n};\n\nexport const uploadFile = async (pageId, fileObj, token) => {\n  const formData = new FormData();\n  formData.append('file', fileObj);\n  const res = await axios.post(`${API_URL}/pages/files/${pageId}`, formData, {\n    headers: {\n      Authorization: `Bearer ${token}`,\n      'Content-Type': 'multipart/form-data',\n    },\n  });\n  return res.data;\n};\n\nexport const downloadFile = async (fileId, token) => {\n  const res = await axios.get(`${API_URL}/files/download/${fileId}`, {\n    headers: { Authorization: `Bearer ${token}` },\n    responseType: 'blob',\n  });\n  return res;\n};\n"],"mappings":"AAAA;AACA,OAAOA,KAAK,MAAM,OAAO;AACzB,MAAMC,OAAO,GAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,IAAI,2BAA2B;AAE5E,OAAO,MAAMC,YAAY,GAAG,MAAAA,CAAOC,MAAM,EAAEC,KAAK,KAAK;EACnD,MAAMC,GAAG,GAAG,MAAMR,KAAK,CAACS,GAAG,CAAC,GAAGR,OAAO,gBAAgBK,MAAM,EAAE,EAAE;IAC9DI,OAAO,EAAE;MAAEC,aAAa,EAAE,UAAUJ,KAAK;IAAG;EAC9C,CAAC,CAAC;EACF,OAAOC,GAAG,CAACI,IAAI;AACjB,CAAC;AAED,OAAO,MAAMC,UAAU,GAAG,MAAAA,CAAOP,MAAM,EAAEQ,OAAO,EAAEP,KAAK,KAAK;EAC1D,MAAMQ,QAAQ,GAAG,IAAIC,QAAQ,CAAC,CAAC;EAC/BD,QAAQ,CAACE,MAAM,CAAC,MAAM,EAAEH,OAAO,CAAC;EAChC,MAAMN,GAAG,GAAG,MAAMR,KAAK,CAACkB,IAAI,CAAC,GAAGjB,OAAO,gBAAgBK,MAAM,EAAE,EAAES,QAAQ,EAAE;IACzEL,OAAO,EAAE;MACPC,aAAa,EAAE,UAAUJ,KAAK,EAAE;MAChC,cAAc,EAAE;IAClB;EACF,CAAC,CAAC;EACF,OAAOC,GAAG,CAACI,IAAI;AACjB,CAAC;AAED,OAAO,MAAMO,YAAY,GAAG,MAAAA,CAAOC,MAAM,EAAEb,KAAK,KAAK;EACnD,MAAMC,GAAG,GAAG,MAAMR,KAAK,CAACS,GAAG,CAAC,GAAGR,OAAO,mBAAmBmB,MAAM,EAAE,EAAE;IACjEV,OAAO,EAAE;MAAEC,aAAa,EAAE,UAAUJ,KAAK;IAAG,CAAC;IAC7Cc,YAAY,EAAE;EAChB,CAAC,CAAC;EACF,OAAOb,GAAG;AACZ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}