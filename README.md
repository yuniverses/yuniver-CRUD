# Yuniver CRUD API

Yuniver CRUD æ˜¯ä¸€å€‹å°ˆæ¡ˆç®¡ç† APIï¼Œæä¾› **ä½¿ç”¨è€…é©—è­‰ã€å°ˆæ¡ˆç®¡ç†ã€æª”æ¡ˆç®¡ç†** å’Œ **æµç¨‹åœ–ç¯„æœ¬ç®¡ç†** åŠŸèƒ½ã€‚  
æŠ€è¡“æ£§åŒ…æ‹¬ **Node.jsã€Expressã€MongoDB**ï¼Œä¸¦æ¡ç”¨ **JWT é©—è­‰** æ©Ÿåˆ¶ã€‚

## ğŸ“Œ ä¸»è¦åŠŸèƒ½ä»‹ç´¹

### ğŸ” ä½¿ç”¨è€…é©—è­‰

- è¨»å†Šèˆ‡ç™»å…¥ï¼Œä¸¦ä½¿ç”¨ JWT é€²è¡Œèº«ä»½é©—è­‰

### ğŸ“‚ å°ˆæ¡ˆç®¡ç†

- å»ºç«‹ã€æ›´æ–°ã€åˆªé™¤å°ˆæ¡ˆ
- æŒ‡æ´¾åœ˜éšŠæˆå“¡ï¼Œè¿½è¹¤å°ˆæ¡ˆé€²åº¦
- æ–°å¢å‚™è¨»ã€è¨Šæ¯èˆ‡æµç¨‹åœ–

### ğŸ“ æª”æ¡ˆç®¡ç†

- ä¸Šå‚³ã€ä¸‹è¼‰ã€åˆªé™¤å°ˆæ¡ˆç›¸é—œæª”æ¡ˆ

### ğŸ“„ å ±åƒ¹å–®ç”¢ç”Ÿ

- ç”Ÿæˆ PDF å ±åƒ¹å–®ï¼Œä¾›å®¢æˆ¶ä¸‹è¼‰

### ğŸ“‘ æµç¨‹åœ–ç¯„æœ¬ç®¡ç†

- å­˜å„²ã€æª¢è¦–ã€æ›´æ–°åŠåˆªé™¤æµç¨‹åœ–ç¯„æœ¬

---

## âš™ï¸ å®‰è£èˆ‡åŸ·è¡Œæ–¹å¼

### 1ï¸âƒ£ å…‹éš†å°ˆæ¡ˆ

```sh
git clone https://github.com/yuniverses/yuniver-CRUD.git
cd yuniver-CRUD/server
```

### 2ï¸âƒ£ å®‰è£ç›¸ä¾å¥—ä»¶

```sh
npm install
```

### 3ï¸âƒ£ è¨­å®šç’°å¢ƒè®Šæ•¸

åœ¨ `server` ç›®éŒ„ä¸‹å»ºç«‹ `.env` æª”æ¡ˆï¼Œä¸¦å¡«å…¥ä»¥ä¸‹å…§å®¹ï¼š

```
MONGO_URI=ä½ çš„MongoDBé€£ç·šå­—ä¸²
JWT_SECRET=ä½ çš„JWTå¯†é‘°
```

### 4ï¸âƒ£ å•Ÿå‹•ä¼ºæœå™¨

```sh
node server.js
```

ğŸš€ ä¼ºæœå™¨å°‡æœƒåœ¨ **http://localhost:3000** é‹è¡Œã€‚

---

## ğŸ“¡ API ç«¯é»èªªæ˜

### ğŸ” ä½¿ç”¨è€…é©—è­‰

| æ–¹æ³• | ç«¯é»                 | åŠŸèƒ½                 |
| ---- | -------------------- | -------------------- |
| POST | `/api/auth/register` | è¨»å†Šæ–°ä½¿ç”¨è€…         |
| POST | `/api/auth/login`    | ä½¿ç”¨è€…ç™»å…¥ä¸¦ç²å– JWT |

### ğŸ“‚ å°ˆæ¡ˆç®¡ç†

| æ–¹æ³•   | ç«¯é»                          | åŠŸèƒ½                 |
| ------ | ----------------------------- | -------------------- |
| GET    | `/api/projects`               | å–å¾—æ‰€æœ‰å°ˆæ¡ˆ         |
| POST   | `/api/projects`               | æ–°å¢å°ˆæ¡ˆ             |
| GET    | `/api/projects/:id`           | å–å¾—å–®ä¸€å°ˆæ¡ˆè©³ç´°è³‡è¨Š |
| PUT    | `/api/projects/:id`           | æ›´æ–°å°ˆæ¡ˆ             |
| DELETE | `/api/projects/:id`           | åˆªé™¤å°ˆæ¡ˆ             |
| POST   | `/api/projects/:id/notes`     | æ–°å¢å‚™è¨»             |
| POST   | `/api/projects/:id/messages`  | æ–°å¢æºé€šè¨Šæ¯         |
| GET    | `/api/projects/:id/flowchart` | å–å¾—å°ˆæ¡ˆæµç¨‹åœ–       |
| PUT    | `/api/projects/:id/flowchart` | æ›´æ–°å°ˆæ¡ˆæµç¨‹åœ–       |

### ğŸ“ æª”æ¡ˆç®¡ç†

| æ–¹æ³•   | ç«¯é»                            | åŠŸèƒ½               |
| ------ | ------------------------------- | ------------------ |
| POST   | `/api/files/upload`             | ä¸Šå‚³æª”æ¡ˆ           |
| GET    | `/api/files/project/:projectId` | å–å¾—å°ˆæ¡ˆçš„æ‰€æœ‰æª”æ¡ˆ |
| DELETE | `/api/files/:fileId`            | åˆªé™¤æŒ‡å®šæª”æ¡ˆ       |
| GET    | `/api/files/download/:fileName` | ä¸‹è¼‰æŒ‡å®šæª”æ¡ˆ       |

### ğŸ“„ å ±åƒ¹å–®ç®¡ç†

| æ–¹æ³• | ç«¯é»          | åŠŸèƒ½           |
| ---- | ------------- | -------------- |
| POST | `/api/quotes` | ç”¢ç”Ÿå ±åƒ¹å–® PDF |

### ğŸ“‘ æµç¨‹åœ–ç¯„æœ¬ç®¡ç†

| æ–¹æ³•   | ç«¯é»                 | åŠŸèƒ½         |
| ------ | -------------------- | ------------ |
| GET    | `/api/templates`     | å–å¾—æ‰€æœ‰ç¯„æœ¬ |
| GET    | `/api/templates/:id` | å–å¾—å–®ä¸€ç¯„æœ¬ |
| POST   | `/api/templates`     | å»ºç«‹æ–°ç¯„æœ¬   |
| PUT    | `/api/templates/:id` | æ›´æ–°ç¯„æœ¬     |
| DELETE | `/api/templates/:id` | åˆªé™¤ç¯„æœ¬     |

---

## ğŸ“ Folder Structureï¼ˆè©³ç´°ï¼‰

```
yuniver-CRUD/
â”‚â”€â”€ client/                     # (å‰ç«¯ç›®éŒ„ï¼Œè‹¥é©ç”¨)
â”‚â”€â”€ server/                      # ä¼ºæœå™¨ç«¯ä»£ç¢¼
â”‚   â”œâ”€â”€ config/                  # è¨­å®šæª”æ¡ˆ (å¦‚è³‡æ–™åº«é€£ç·š)
â”‚   â”‚   â”œâ”€â”€ db.js                # é€£æ¥ MongoDB
â”‚   â”‚
â”‚   â”œâ”€â”€ controllers/             # æ§åˆ¶å™¨ (æ¥­å‹™é‚è¼¯)
â”‚   â”‚   â”œâ”€â”€ authController.js    # ä½¿ç”¨è€…é©—è­‰
â”‚   â”‚   â”œâ”€â”€ fileController.js    # æª”æ¡ˆç®¡ç†
â”‚   â”‚   â”œâ”€â”€ pageController.js    # é é¢ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ projectController.js # å°ˆæ¡ˆç®¡ç†
â”‚   â”‚   â”œâ”€â”€ quoteController.js   # å ±åƒ¹å–®è™•ç†
â”‚   â”‚   â”œâ”€â”€ templateController.js # æµç¨‹åœ–ç¯„æœ¬ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ userController.js    # ä½¿ç”¨è€…ç®¡ç†
â”‚   â”‚
â”‚   â”œâ”€â”€ middlewares/             # ä¸­ä»‹å±¤ (å¦‚èº«ä»½é©—è­‰)
â”‚   â”‚   â”œâ”€â”€ authMiddleware.js    # JWT é©—è­‰
â”‚   â”‚
â”‚   â”œâ”€â”€ models/                  # MongoDB è³‡æ–™æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ File.js              # æª”æ¡ˆæ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ FlowChartTemplate.js # æµç¨‹åœ–ç¯„æœ¬
â”‚   â”‚   â”œâ”€â”€ Page.js              # é é¢æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ Project.js           # å°ˆæ¡ˆæ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ User.js              # ä½¿ç”¨è€…æ¨¡å‹
â”‚   â”‚
â”‚   â”œâ”€â”€ routes/                  # API è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ authRoutes.js        # ä½¿ç”¨è€…é©—è­‰ API
â”‚   â”‚   â”œâ”€â”€ fileRoutes.js        # æª”æ¡ˆç®¡ç† API
â”‚   â”‚   â”œâ”€â”€ pageRoutes.js        # é é¢ API
â”‚   â”‚   â”œâ”€â”€ projectRoutes.js     # å°ˆæ¡ˆ API
â”‚   â”‚   â”œâ”€â”€ quoteRoutes.js       # å ±åƒ¹å–® API
â”‚   â”‚   â”œâ”€â”€ templateRoutes.js    # æµç¨‹åœ–ç¯„æœ¬ API
â”‚   â”‚
â”‚   â”œâ”€â”€ uploads/                 # ä¸Šå‚³æª”æ¡ˆå­˜æ”¾è³‡æ–™å¤¾
â”‚   â”‚
â”‚   â”œâ”€â”€ utils/                   # å·¥å…·å‡½å¼
â”‚   â”‚   â”œâ”€â”€ pdfGenerator.js      # ç”¢ç”Ÿ PDF å ±åƒ¹å–®
â”‚   â”‚
â”‚   â”œâ”€â”€ server.js                # ä¼ºæœå™¨é€²å…¥é»
â”‚
â”‚â”€â”€ README.md                    # å°ˆæ¡ˆèªªæ˜æ–‡ä»¶
```

---
